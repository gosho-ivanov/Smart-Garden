# Smart Garden üå±

üåê –ü—Ä–æ–µ–∫—Ç—ä—Ç "Smart Garden" –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞ –∏–Ω—Ç–µ–ª–∏–≥–µ–Ω—Ç–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∑–∞ –ø–æ–ª–∏–≤–∞–Ω–µ, –±–∞–∑–∏—Ä–∞–Ω–∞ –Ω–∞ Raspberry Pi. –ò–∑–ø–æ–ª–∑–≤–∞ —Å–µ–Ω–∑–æ—Ä–∏ –∏ MQTT –∑–∞ –æ—Ç–¥–∞–ª–µ—á–µ–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –Ω–∞ –∫—Ä–∞–Ω–æ–≤–µ (taps) –∏ –º–µ—Ç–µ–æ—Ä–æ–ª–æ–≥–∏—á–Ω–∏ —É—Å–ª–æ–≤–∏—è —á—Ä–µ–∑ —É–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Smart-Garden/
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile                # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml        # –£–ª–µ—Å–Ω–µ–Ω–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ —Å Docker Compose
‚îú‚îÄ‚îÄ smartgarden.py            # –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–∏—Å—Ç–µ–º–∞—Ç–∞
‚îú‚îÄ‚îÄ README.md                 # –¢–∞–∑–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ main.html                 # –û—Å–Ω–æ–≤–µ–Ω –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—Å–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ automation.html           # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ test_automation.html      # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ —Ç–µ—Å—Ç–æ–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ indexV2.html              # –ê–ª—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞ –Ω–∞—á–∞–ª–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ main_page.js              # JS –ª–æ–≥–∏–∫–∞ –∑–∞ –æ—Å–Ω–æ–≤–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ functions.js              # –û–±—â–∏ JavaScript —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ
‚îú‚îÄ‚îÄ main_page.css             # CSS —Å—Ç–∏–ª–æ–≤–µ –∑–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏—Ç–µ
‚îú‚îÄ‚îÄ automation.css            # –°—Ç–∏–ª–æ–≤–µ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ images/                   # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–∫–æ–Ω–∏
```

---

## üß±Ô∏è –ò–∑–≥—Ä–∞–∂–¥–∞–Ω–µ –∏ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏—Ç–µ

### üëâ 1. –°—Ç—Ä–æ–µ–Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker build -t smartgarden .
```

### üëâ 2. –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -d smartgarden
```

> üìå –ó–∞–±–µ–ª–µ–∂–∫–∞: Raspberry Pi 5 **–Ω–µ –ø–æ–¥–¥—ä—Ä–∂–∞ RPi.GPIO**, –∑–∞—Ç–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç—ä—Ç –∏–∑–ø–æ–ª–∑–≤–∞ **Adafruit Blinka** –∏ **libgpiod** –∑–∞ –¥–æ—Å—Ç—ä–ø –¥–æ GPIO.

### üëâ (–ü–æ –∏–∑–±–æ—Ä) –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ —Å `docker-compose`

```bash
docker-compose up -d
```

---

## ‚öôÔ∏è –û–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏—Ç–µ

### `smartgarden.py`

- –£–ø—Ä–∞–≤–ª—è–≤–∞ –∫—Ä–∞–Ω–æ–≤–µ—Ç–µ (–≤–∫–ª./–∏–∑–∫–ª.) —á—Ä–µ–∑ GPIO
- –ß–µ—Ç–µ –¥–∞–Ω–Ω–∏ –æ—Ç DHT11 (—Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç)
- –ü—É–±–ª–∏–∫—É–≤–∞ –ø–æ–∫–∞–∑–∞–Ω–∏—è—Ç–∞ –≤ MQTT —Ç–µ–º–∞ `sgarden/weather`
- –ü–æ–¥–¥—ä—Ä–∂–∞ –≥—Ä–∞—Ñ–∏–∫ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—É—Å–∫–∞–Ω–µ/—Å–ø–∏—Ä–∞–Ω–µ –Ω–∞ –∫—Ä–∞–Ω–æ–≤–µ
- –û–±—Ä–∞–±–æ—Ç–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏—è –æ—Ç —Å–ª–µ–¥–Ω–∏—Ç–µ MQTT —Ç–µ–º–∏:
  - `settaps` ‚Äî –≤–∫–ª./–∏–∑–∫–ª. –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –∫—Ä–∞–Ω
  - `checktaps` ‚Äî –∏–∑–ø—Ä–∞—â–∞ —Ç–µ–∫—É—â–æ—Ç–æ —Å—ä—Å—Ç–æ—è–Ω–∏–µ –Ω–∞ –≤—Å–∏—á–∫–∏ –∫—Ä–∞–Ω–æ–≤–µ
  - `schedule_tap` ‚Äî –ø–ª–∞–Ω–∏—Ä–∞ –µ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ –æ—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ –∫—Ä–∞–Ω
  - `schedules` ‚Äî –¥–æ–±–∞–≤—è –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–µ–Ω –≥—Ä–∞—Ñ–∏–∫ –ø–æ –¥–Ω–∏ –∏ —á–∞—Å–æ–≤–µ

### –£–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (HTML/CSS/JS)

- `main.html` ‚Äî –û—Å–Ω–æ–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞ –≤–∏–∑—É–∞–ª–µ–Ω –∫–æ–Ω—Ç—Ä–æ–ª –∏ —Å—ä—Å—Ç–æ—è–Ω–∏–µ
- `automation.html` ‚Äî –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞ –¥–æ–±–∞–≤—è–Ω–µ –Ω–∞ –≥—Ä–∞—Ñ–∏—Ü–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- `functions.js`, `main_page.js` ‚Äî –ª–æ–≥–∏–∫–∞ –∑–∞ –∫–æ–º—É–Ω–∏–∫–∞—Ü–∏—è —Å –±–µ–∫–µ–Ω–¥–∞ –∏ MQTT
- –ò–∑–ø–æ–ª–∑–≤–∞—Ç WebSockets / AJAX (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ç–∞) –∑–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ –∫–æ–º–∞–Ω–¥–∏

---

## üîó –ö–æ–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏—Ç–µ

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç        | –ü—Ä–æ—Ç–æ–∫–æ–ª | –ö–æ–º—É–Ω–∏–∫–∞—Ü–∏—è                                       |
| ---------------- | -------- | ------------------------------------------------- |
| smartgarden.py   | MQTT     | –ü—É–±–ª–∏–∫—É–≤–∞ –∏ –ø–æ–ª—É—á–∞–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏—è —á—Ä–µ–∑ HiveMQ –±—Ä–æ–∫–µ—Ä |
| –£–µ–± –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å    | JS/MQTT  | –ò–∑–ø—Ä–∞—â–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–µ–∑ WebSocket –∏–ª–∏ HTTP          |
| DHT11 —Å–µ–Ω–∑–æ—Ä     | GPIO     | –ò–∑–º–µ—Ä–≤–∞–Ω–µ –Ω–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç               |
| –ö—Ä–∞–Ω–æ–≤–µ (—Ä–µ–ª–µ—Ç–∞) | GPIO     | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –≤–æ–¥–Ω–∏—è –ø–æ—Ç–æ–∫                        |

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –ø–ª–∞–Ω–∏—Ä–∞–Ω–µ

- `scheduled_tasks`: –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –æ—Ç–ª–æ–∂–µ–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤—Ä–µ–º–µ
- `schedules`: –ø–µ—Ä–∏–æ–¥–∏—á–Ω–∏ –∑–∞–¥–∞—á–∏ —Å–ø–æ—Ä–µ–¥ –¥–µ–Ω –æ—Ç —Å–µ–¥–º–∏—Ü–∞—Ç–∞ –∏ —á–∞—Å
- –í—Å–∏—á–∫–∏ –∑–∞–¥–∞—á–∏ —Å–µ –ø—Ä–æ–≤–µ—Ä—è–≤–∞—Ç –≤ –ø–∞—Ä–∞–ª–µ–ª–Ω–∏ –Ω–∏—à–∫–∏ —á—Ä–µ–∑ `threading`

---

## üîß –ò–∑–∏—Å–∫–≤–∞–Ω–∏—è

- Raspberry Pi (–ø—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ Pi 4 –∏–ª–∏ 5)
- Docker –∏ Docker Compose –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏
- –°–≤—ä—Ä–∑–∞–Ω–∏ GPIO —Ä–µ–ª–µ—Ç–∞ –∑–∞ –∫—Ä–∞–Ω–æ–≤–µ—Ç–µ
- DHT11 —Å–µ–Ω–∑–æ—Ä —Å–≤—ä—Ä–∑–∞–Ω –∫—ä–º GPIO (–ø–æ –ø–æ–¥—Ä–∞–∑–±–∏—Ä–∞–Ω–µ –Ω–∞ pin D4)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—ä–ø –¥–æ MQTT –±—Ä–æ–∫–µ—Ä–∞

---

## üìà –ü—Ä–∏–º–µ—Ä–∏ –∑–∞ MQTT —Å—ä–æ–±—â–µ–Ω–∏—è

```json
// –í–∫–ª—é—á–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∞–Ω #1
Topic: settaps
Payload: "1"

// –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ –≥—Ä–∞—Ñ–∏–∫ –∑–∞ –∫—Ä–∞–Ω #2
Topic: schedule_tap
Payload: {
  "date": "2025-06-20",
  "time": "14:30",
  "tapNumber": 2
}
```

---

## üåê –ê–≤—Ç–æ—Ä

[github.com/gosho-ivanov](https://github.com/gosho-ivanov/Smart-Garden)

